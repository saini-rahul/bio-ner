# BioNER - CSCE-633
Biomedical Named Enity Recogntion: Course project for CSCE 633.

Uses character-level BiLSTM layer, and then Bi-LSTM-CRF layers to do NER.

## How to run? 
1. Clone this repo using: 
```
    git clone git@github.tamu.edu:rssaini/CSCE-633.git
```

2. Copy the conda environment to satisfy the needed requirements for running the project. Within the project root folder:
```
    cd scripts/
    conda env create -f environment.yml
```

3. Step 2 will create a conda environment with name 'keras-gpu-2.2.2'. Now activate the environment via:
```
    conda activate keras-gpu-2.2.2

```
4. Once, inside the conda environment, you can run the code. See the next section to see what to run to achieve what.


## What to run?

1. All the datasets are stored in data/datasets/, all the trained models, and history files get stored in model/, all the dictionaries, and embedding matrices get stored in data/dict/, word embeddings are stored in word\_embeddings

2. The code is capable of running in two different modes, as multi-output, and as single output. This is controlled by setting 
```
cd scripts/
vi utilities.py

Single Ouptut Layer: set MULTI_OUT to False 
MULTI Output Layer: set MULTI_OUT to True
```

3. The code can also replace the CRF layer with a dense layer in the output layer. To control that: 
```
cd scripts/
vi utilities.py

Use CRF as output layer: set USE_CRF to True
Use Dense as output layer: set USE_CRF to False
```

4. Reproducing results. To run a pre-trained model, you need to change the TIMESTR variable in the utilities.py to the appropriate models timestr.
In the current code, the TIMESTR set is for single-output multi-task model, so you can reporduce the results via:

```
cd scripts/
python evaluate.py

```

5. Suppose you want to evaluate a single-task model working trained only one DATASET, then change the DATASET\_INDEX field in evaluate.py to the index of the appropriate dataset, the dataset list is in load\_data.py
```
cd scripts/
vi evaluate.py
Change DATASET_INDEX to index of dataset on which to run, 0 to 4.
If DATASET_INDEX is set to -1, it will run the model on all the datasets.

python evaluate.py

```


6. For creating graphs from the history generated by training the last model, from root directory of the git repo:
```
cd scripts/
python draw_figures.py
```


7. For training a new model, from root directory of the git repo: 
(Donâ€™t runthis commandunless you are completely sure, as this will overwrite the files needed by GUI to runproperly.)
```
cd scripts/
Set the DATASET_INDEX in train.py to a specific index, if training a single task model, else keep it as -1 to train a multi-task model
python train.py
```
